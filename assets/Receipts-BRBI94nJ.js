import{b as g,u as b,r as a,j as e,a as N}from"./index-3JB24okO.js";const I="_parent_24zpw_1",f="_receiptBtn_24zpw_61",n={parent:I,receiptBtn:f};function k(){const{filteredData:r,setFilteredData:d,setData:o}=g(),h=b(),[x,y]=a.useState(null),[p,u]=a.useState(!0),[c,m]=a.useState(null),j=t=>{h(`/receipts/${t}`)};return a.useEffect(()=>{localStorage.getItem("authToken"),(async()=>{var i,l;try{const s=await N.get("https://htihousing-eel315fa.b4a.run/payment/PendingPayment",{headers:{token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NzY2YjZjZGQzMTYxYzc1YWYwYWQ4M2IiLCJlbWFpbCI6InlvdXNmdGFtZXIxMUBnbWFpbC5jb20iLCJyb2xlIjoic3R1ZGVudCIsImlhdCI6MTczNDc4NDg0Mn0.KLo76IBdty3i_P96l1hLMNGwa2S-2DOLYSw-RU9u-aQ"}});d(s.data.data),o(s.data.data),console.log(s.data.data)}catch(s){m(((l=(i=s.response)==null?void 0:i.data)==null?void 0:l.message)||s.message),console.error(s)}finally{u(!1)}})()},[]),p?e.jsx("p",{className:"d-flex justify-content-center align-items-center",children:"...جاري تحميل البيانات"}):c?e.jsxs("p",{className:"d-flex justify-content-center align-items-center",children:["Error: ",c]}):e.jsx("div",{className:"container",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:`table  ${n.parent} table-borderless text-center`,children:[e.jsx("thead",{className:"thead-dark",children:e.jsxs("tr",{children:[e.jsx("th",{className:"h4",children:"إجراءات"}),e.jsx("th",{className:"h4",children:"الإيميل الجامعي"}),e.jsx("th",{className:"h4",children:"الاسم"}),e.jsx("th",{className:"h4",children:"ID"}),e.jsx("th",{className:"h4",children:"القسم"})]})}),e.jsx("tbody",{children:r.map(t=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsx("button",{className:`btn mx-1 rounded-pill px-4 ${n.receiptBtn}`,onClick:()=>j(t._id),children:"عرض الإيصال"}),x&&e.jsx("div",{className:n.loadingOverlay,children:e.jsx("div",{className:`${n.loader}`})})]}),e.jsx("td",{children:t.booking.student.email}),e.jsx("td",{children:t.booking.student.name}),e.jsx("td",{children:t.booking.student.ID}),e.jsx("td",{children:t.booking.student.department})]},t._id))})]})})})}export{k as default};
